<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="ko">
<head>
    <meta charset="UTF-8">
    <title>상품 목록 | Goot Shop</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="/resources/css/style.css">
</head>

<body>

<!-- ✅ 분리된 헤더 불러오기 -->
<div th:replace="module/header :: header"></div>

<!-- ✅ 메인 -->
<main class="container my-5">
  <h2 class="fw-bold mb-4">상품 목록</h2>

  <div class="row g-4">
    <div class="col-md-3" th:each="product : ${productList}">
      <div class="card h-100 border-0 shadow-sm">
        <a th:href="@{'/product/detail/' + ${product.productId}}">
			<img class="card-img-top" th:src="${product.mainImageUrl != null 
			                    ? product.mainImageUrl : '/images/default.jpg'}" alt="상품 이미지">
        </a>
        <div class="card-body text-center">
          <h6 class="card-title mb-2" th:text="${product.productName}">상품명</h6>
		  <!-- 할인 중일 때 -->
		        <div th:if="${product.onSale}">
		          <span class="text-muted text-decoration-line-through me-2"
		                th:text="${#numbers.formatInteger(product.price, 3, 'COMMA')} + '원'">
		          </span>
		          <span class="fw-bold text-danger"
		                th:text="${#numbers.formatInteger(product.displayPrice, 3, 'COMMA')} + '원'">
		          </span>
		        </div>

		        <!-- 할인 아닐 때 -->
		        <div th:unless="${product.onSale}">
		          <span class="fw-bold text-dark"
		                th:text="${#numbers.formatInteger(product.displayPrice, 3, 'COMMA')} + '원'">
		          </span>
		        </div>
        </div>
      </div>
    </div>
  </div>
</main>

<!-- ✅ 푸터 -->
<footer class="text-center py-4 border-top mt-5">
  <p class="mb-0 text-muted">&copy; 2025 Goot Shop. All rights reserved.</p>
</footer>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
